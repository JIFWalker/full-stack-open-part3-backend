{"version":3,"sources":["components/PersonsRender.js","components/Filter.js","components/PersonForm.js","services/Person.js","components/Notification.js","App.js","index.js"],"names":["PersonsRender","display","confirmDelete","map","person","name","number","onClick","Filter","searchParam","handleSearch","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNum","handleNumChange","onSubmit","type","baseUrl","exportObject","getAll","axios","get","then","response","data","create","newPerson","post","update","id","put","remove","delete","Notification","message","setNotification","setTimeout","className","App","useState","persons","setPersons","setNewName","setNewNum","setSearchParam","isEmpty","setEmpty","notification","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","personObject","containsName","containsNum","window","confirm","catch","error","updateNumber","returnedPerson","concat","console","log","entry","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c560d61.chunk.js","sourcesContent":["import React from 'react'\n\n\n\nconst PersonsRender = ({display, confirmDelete}) => (\n    display.map(person => \n   <ul key = {person.name} >\n    {person.name}: {person.number} <button onClick = {() => confirmDelete(person)}>\n        Delete\n      </button> \n  </ul>\n  )\n)\n\n\n \n\nexport default PersonsRender","import React from 'react'\n\nconst Filter = ({searchParam, handleSearch}) => {\n  return (\n    <form>\n      filter shown with <input \n        value = {searchParam}\n        onChange = {handleSearch}\n      />\n    </form>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, \n                     newNum, handleNumChange}) => {\n    \n    return (\n        <form onSubmit = {addPerson}>\n        <div>\n        name: <input \n            value = {newName}\n            onChange = {handleNameChange}\n            />\n        </div>\n        <div>\n        number: <input\n            value = {newNum}\n            onChange = {handleNumChange}\n            />\n        </div>\n        <div>\n        <button type = \"submit\">add</button>\n        </div>\n    </form>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst update = (id, person) => {\n    const request = axios.put(`${baseUrl}/${id}`, person)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\n\n\n\nconst exportObject = {getAll, create, update, remove}\nexport default exportObject","import React from 'react'\n\nconst Notification = ({ message, setNotification}) => {\n    if (message === null) {\n      return null\n    }\n    setTimeout(() => {\n        setNotification(null)\n    }, 5000)\n    return (\n\n      <div className = \"error\">\n        {message}\n      </div>\n    )}\n  \n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport PersonsRender from './components/PersonsRender'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/Person'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ searchParam, setSearchParam] = useState('')\n  const [ isEmpty, setEmpty] = useState(true)\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {setPersons(initialPersons)\n    })\n  }, [])   \n\n  const handleNameChange = (event) => (\n    setNewName(event.target.value)\n  )\n  const handleNumChange = (event) => (\n    setNewNum(event.target.value)\n  )\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase())\n    event.target.value !== ''\n      ? setEmpty(false)\n      : setEmpty(true)\n  }\n\n  const confirmDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(setNotification(`${person.name} has been deleted from phonebook`))\n        .catch(error => setNotification(`${person.name} has already been deleted from phonebook`))\n      setPersons(persons.filter(entry => \n        entry.id !== person.id))\n    }\n  }\n\n  const updateNumber = (personObject) => {\n    if (window.confirm(`${newName} is already added to phonebook, \n    replace the old number with a new one?`)) {\n      personService\n      .update(personObject.id, personObject)\n      .then(setNotification(`${personObject.name}'s number has been updated`))\n      .catch(error => setNotification(error.response.data.error))\n      setPersons(persons.map(person => \n        personObject.id === person.id ? personObject : person\n      ))\n    }\n  }\n\n\n\n  const display = isEmpty\n    ? persons\n    : persons.filter(person => \n      person.name.toLowerCase().includes(searchParam))\n      \n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name : newName,\n      number : newNum,\n    }\n    const containsName = persons.map(person => person.name).includes(personObject.name)\n    const containsNum = persons.map(person => person.number).includes(personObject.number)\n\n     if (containsName && !containsNum) {\n        persons.map(person => {\n          if (person.name === personObject.name) {\n            personObject.id = person.id\n          } return null\n        })\n        updateNumber(personObject)\n      } else {\n       personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNotification(`${personObject.name} has been added to the phonebook`)\n        })\n        .catch(error => {\n          setNotification(error.response.data.error)\n          console.log(error.response.data)\n        })\n    }\n    setNewName('')\n    setNewNum('')\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification \n        message = {notification} \n        setNotification = {setNotification}\n      />\n      <Filter \n        searchParam = {searchParam}\n        handleSearch = {handleSearch}\n      />\n      \n      <h2>Add a new</h2>\n      \n      <PersonForm \n        addPerson = {addPerson}\n        newName = {newName}\n        handleNameChange = {handleNameChange}\n        newNum = {newNum}\n        handleNumChange = {handleNumChange}\n      />\n      \n      <h2>Numbers</h2>\n      \n      <PersonsRender \n        display = {display} \n        confirmDelete = {confirmDelete}\n      /> \n    </div>\n  )\n}\n\nexport default App\n\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}